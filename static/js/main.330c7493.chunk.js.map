{"version":3,"sources":["components/Header.js","components/Footer.js","components/Card.js","contexts/CurrentUserContext.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","utils/Api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","contexts/InitialCardsContext.js","components/App.js","index.js"],"names":["Header","className","href","Footer","Card","currentUser","card","onCardClick","onCardLike","onCardDelete","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","like","cardLikeButtonClassName","src","link","alt","name","onClick","role","type","length","CurrentUserContext","React","createContext","Main","onEditProfile","onAddPlace","onEditAvatar","cards","useContext","avatar","about","map","key","PopupWithForm","title","inputSignature","children","isOpen","onClose","onSubmit","noValidate","ImagePopup","toLowerCase","api","url","headers","this","fetch","then","res","ok","json","Promise","reject","status","data","method","body","JSON","stringify","cardId","Authorization","EditProfilePopup","onUpdateUser","useState","firstName","setFirstName","description","setDescription","useEffect","evt","preventDefault","defaultValue","onChange","e","target","value","id","required","pattern","placeholder","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","imageRef","useRef","current","ref","AddPlacePopup","nameRef","linkRef","InitialCardsContext","App","setCurrentUser","setCards","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","closeAllPopups","all","getInfoUser","getInitialCards","userData","cardsFromApi","catch","err","console","log","Provider","deleteLikeCard","putLikeCard","newCard","newCards","currentCard","deleteCard","filter","editProfile","dataNewCard","addCard","addNewCard","changeAvatar","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.330c7493.chunk.js","sourcesContent":["import React from 'react';\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <a href=\"###\" className=\"header__logo\">logo</a>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2022. Абросимов Виктор</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction Card({\n  currentUser, card, onCardClick,\n  onCardLike, onCardDelete,\n}) {\n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = card.owner._id === currentUser._id;\n\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\n  const cardDeleteButtonClassName = (\n    `${isOwn ? 'card__btn-delete' : 'card__btn-delete_hidden'}`\n  );\n\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = card.likes.some((like) => {\n    return like._id === currentUser._id;\n  });\n\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\n  const cardLikeButtonClassName = (\n    `${isLiked ? 'btn-image btn-image_like btn-image_like_active' : 'btn-image btn-image_like'}`\n  );\n\n  function handleClick() {\n    onCardClick(card.name, card.link);\n  }\n\n  return (\n    <div className=\"card\">\n      <img\n        src={card.link}\n        alt={`карточка с изображением ${card.name}`}\n        className=\"card__image\"\n        onClick={handleClick}\n        role=\"presentation\"\n      />\n      <button\n        type=\"button\"\n        className={cardDeleteButtonClassName}\n        onClick={() => { return onCardDelete(card); }}\n      >\n        <div className=\"btn-image btn-image_delete\" />\n      </button>\n      <div className=\"card__info\">\n        <h2 className=\"card__title\">{card.name}</h2>\n        <div className=\"card__block-like\">\n          <button type=\"button\" className=\"card__btn-like\" onClick={() => { return onCardLike(card); }}>\n            <div className={cardLikeButtonClassName} />\n          </button>\n          <span className=\"card__count-like\">{card.likes.length}</span>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Card;\n","import React from 'react';\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext;\n","import React from 'react';\nimport Card from './Card';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction Main({\n  onEditProfile, onAddPlace, onEditAvatar, onCardClick,\n  cards, onCardLike, onCardDelete,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <img\n          src={currentUser.avatar}\n          alt=\"Аватар\"\n          className=\"profile__avatar\"\n          onClick={onEditAvatar}\n          role=\"presentation\"\n        />\n        <span className=\"profile__edit-avatar\" />\n        <div className=\"profile__info\">\n          <div className=\"profile__change-elem\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button type=\"button\" className=\"profile__btn-edit\" onClick={onEditProfile}>\n              <div className=\"btn-image btn-image_edit\" />\n            </button>\n          </div>\n          <p className=\"profile__signature\">{currentUser.about}</p>\n        </div>\n        <button\n          type=\"button\"\n          className=\"profile__btn-plus\"\n          onClick={onAddPlace}\n        >\n          <div className=\"btn-image btn-image_plus\" />\n        </button>\n      </section>\n      <section className=\"cards\">\n        {cards.map((card) => {\n          return (\n            <Card\n              key={card._id}\n              card={card}\n              currentUser={currentUser}\n              onCardLike={onCardLike}\n              onCardDelete={onCardDelete}\n              onCardClick={onCardClick}\n            />\n          );\n        })}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction PopupWithForm({\n  title, name, inputSignature, children,\n  isOpen, onClose, onSubmit,\n}) {\n  return (\n    <section className={`popup-${name} popup ${!isOpen && 'popup_closed'}`}>\n      <form name={name} className=\"popup__container\" onSubmit={onSubmit} noValidate>\n        <span\n          className=\"popup__close\"\n          onClick={onClose}\n          role=\"presentation\"\n        />\n        <h2 className=\"popup__title\">{title}</h2>\n        {children}\n        <button type=\"submit\" className=\"popup__input-save\">\n          <p className=\"popup__text-color\">{inputSignature}</p>\n        </button>\n      </form>\n    </section>\n  );\n}\n\nexport default PopupWithForm;\n","import React from 'react';\n\nfunction ImagePopup({ onClose, card }) {\n  return (\n    <section className={`popup popup-image ${!card.isOpen && 'popup_closed'}`}>\n      <div className=\"popup-image__container\">\n        <img src={card.link} alt={`Картинка с изображением ${card.name}`.toLowerCase()} className=\"popup-image__content\" />\n        <span className=\"popup__close\" onClick={onClose} role=\"presentation\" />\n        <p className=\"popup-image__name\">{card.name}</p>\n      </div>\n    </section>\n  );\n}\n\nexport default ImagePopup;\n","class Api {\n  constructor({url, headers}) {\n    this.url = url;\n    this.headers = headers\n  }\n  getInfoUser() {\n    return fetch(`${this.url}users/me`, {headers: this.headers})\n    .then((res) => {\n      if(res.ok) {\n        return res.json()\n      }\n      return Promise.reject(`Что-то пошло не так: ошибка ${res.status}`)\n    })\n  }\n  getInitialCards() {\n    return fetch(`${this.url}cards`, {headers: this.headers})\n    .then(res => {\n      if(res.ok) {\n        return res.json()\n      }\n      return Promise.reject(`Сбой загрузки карточек: ошибка ${res.status}`)\n    })\n  }\n  editProfile(data) {\n    return fetch(`${this.url}users/me`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    })\n    .then(res => {\n      if(res.ok) {\n        return res.json()\n      }\n      return Promise.reject(`Ошибка отправки данных на сервер: проблема ${res.status}`)\n    })\n  }\n  addCard(data) {\n    return fetch(`${this.url}cards`, {\n      method: 'POST',\n      headers: this.headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    })\n    .then(res => {\n      if(res.ok) {\n        return res.json()\n      }\n      return Promise.reject(`Ошибка отправки данных на сервер: проблема ${res.status}`)\n    })\n  }\n  deleteCard(cardId) {\n      return fetch(`${this.url}cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this.headers\n    })\n  }\n  putLikeCard(cardId) {\n      return fetch(`${this.url}cards/likes/${cardId}`, {\n        method: 'PUT',\n        headers: this.headers\n      })\n      .then(res => {\n        if(res.ok) {\n          return res.json()\n        }\n        return Promise.reject(`Не удалось поставить лайк карточки: ошибка ${res.status}`)\n      })\n  }\n  deleteLikeCard(cardId) {\n    return fetch(`${this.url}cards/likes/${cardId}`, {\n      method: 'DELETE',\n      headers: this.headers\n    })\n    .then(res => {\n      if(res.ok) {\n        return res.json()\n      }\n      return Promise.reject(`Не удалось убрать лайк с карточки: ошибка ${res.status}`)\n    })\n  }\n  changeAvatar(data) {\n    return fetch(`${this.url}users/me/avatar`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    })\n     .then(res => {\n      if(res.ok) {\n        return res.json()\n      }\n      return Promise.reject(`Ошибка отправки данных на сервер: проблема ${res.status}`)\n    })\n  }\n}\n\nconst api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-12/',\n  headers: {\n    Authorization: '9bd0d0c4-e4a3-422a-9469-bb5b72a2dcf0',\n    'Content-Type': 'application/json'\n  }\n})\n\nexport default api\n","import React from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const [firstName, setFirstName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateUser({\n      name: firstName,\n      about: description,\n    });\n  }\n\n  React.useEffect(() => {\n    setFirstName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  return (\n\n    <PopupWithForm\n      name=\"edit\"\n      title=\"Редактировать профиль\"\n      inputSignature=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        name=\"name\"\n        type=\"text\"\n        defaultValue={firstName}\n        onChange={(e) => { return setFirstName(e.target.value); }}\n        className=\"popup__input popup__input-name\"\n        id=\"name-input\"\n        required\n        pattern=\"[A-Za-zА-Яа-я -]{2,40}\"\n        placeholder=\"Имя\"\n      />\n      <span className=\"popup__input-error\" id=\"name-input-error\" />\n      <input\n        name=\"about\"\n        type=\"text\"\n        defaultValue={description}\n        onChange={(e) => { return setDescription(e.target.value); }}\n        className=\"popup__input popup__input-signature\"\n        id=\"signature-input\"\n        required\n        minLength=\"2\"\n        maxLength=\"200\"\n        placeholder=\"О себе\"\n      />\n      <span className=\"popup__input-error\" id=\"signature-input-error\" />\n    </PopupWithForm>\n  );\n}\nexport default EditProfilePopup;\n","import React from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n  const imageRef = React.useRef('');\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateAvatar({\n      avatar: imageRef.current.value,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"avatar\"\n      title=\"Обновить аватар\"\n      inputSignature=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        name=\"avatar\"\n        ref={imageRef}\n        defaultValue={currentUser.avatar}\n        type=\"url\"\n        className=\"popup__input popup__input-signature\"\n        id=\"signature-input\"\n        required\n        placeholder=\"Ссылка на картинку\"\n      />\n      <span className=\"popup__input-error\" id=\"signature-input-error\" />\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React, { useRef } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n  const nameRef = useRef('');\n  const linkRef = useRef('');\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onAddPlace({\n      name: nameRef.current.value,\n      link: linkRef.current.value,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"place\"\n      title=\"Новое место\"\n      inputSignature=\"Создать\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        name=\"name\"\n        ref={nameRef}\n        type=\"text\"\n        className=\"popup__input popup__input-name\"\n        id=\"name-input\"\n        required\n        pattern=\"[A-Za-zА-Яа-я -]{1,30}\"\n        placeholder=\"Название\"\n      />\n      <span className=\"popup__input-error\" id=\"name-input-error\" />\n      <input\n        name=\"link\"\n        type=\"url\"\n        ref={linkRef}\n        className=\"popup__input popup__input-signature\"\n        id=\"signature-input\"\n        required\n        placeholder=\"Ссылка на картинку\"\n      />\n      <span className=\"popup__input-error\" id=\"signature-input-error\" />\n    </PopupWithForm>\n  );\n}\nexport default AddPlacePopup;\n","import React from 'react';\n\nconst InitialCardsContext = React.createContext();\n\nexport default InitialCardsContext;\n","import React from 'react';\nimport Header from './Header';\nimport Footer from './Footer';\nimport Main from './Main';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/Api';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport InitialCardsContext from '../contexts/InitialCardsContext';\n\nfunction App() {\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({\n    isOpen: false,\n    name: '',\n    link: '',\n  });\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard({\n      isOpen: false,\n      name: '',\n      link: '',\n    });\n  }\n\n  function handleAddPlaceSubmit(dataNewCard) {\n    api.addCard(dataNewCard).then((addNewCard) => {\n      setCards([...cards, addNewCard]);\n      closeAllPopups();\n    }).catch((err) => {\n      return console.log(err);\n    });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((like) => {\n      return like._id === currentUser._id;\n    });\n    (!isLiked ? api.putLikeCard(card._id) : api.deleteLikeCard(card._id)).then((newCard) => {\n      // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n      const newCards = cards.map((currentCard) => {\n        return currentCard._id === card._id ? newCard : currentCard;\n      });\n      setCards(newCards);\n    }).catch((err) => {\n      return console.log(err);\n    });\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id).then(() => {\n      const newCards = cards.filter((currentCard) => {\n        return currentCard._id !== card._id;\n      });\n      setCards(newCards);\n    }).catch((err) => {\n      return console.log(err);\n    });\n  }\n\n  function handleUpdateUser(userData) {\n    api.editProfile(userData).then((data) => {\n      setCurrentUser(data);\n      closeAllPopups();\n    }).catch((err) => {\n      return console.log(err);\n    });\n  }\n\n  function handleUpdateAvatar(userData) {\n    api.changeAvatar(userData).then((data) => {\n      setCurrentUser(data);\n      closeAllPopups();\n    }).catch((err) => {\n      return console.log(err);\n    });\n  }\n\n  function handleCardClick(name, link) {\n    setSelectedCard({\n      isOpen: true,\n      name: name,\n      link: link,\n    });\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  React.useEffect(() => {\n    Promise.all([api.getInfoUser(), api.getInitialCards()]).then(([userData, cardsFromApi]) => {\n      setCurrentUser(userData);\n      setCards(cardsFromApi);\n    }).catch((err) => {\n      return console.log(err);\n    });\n  }, []);\n\n  return (\n    <>\n      <CurrentUserContext.Provider value={currentUser}>\n        <InitialCardsContext.Provider value={cards}>\n          <Header />\n          <Main\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n          />\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n          />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n          <PopupWithForm name=\"delete\" title=\"Вы уверены?\" inputSignature=\"Да\" />\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n        </InitialCardsContext.Provider>\n      </CurrentUserContext.Provider>\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}